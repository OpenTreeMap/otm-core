{% load i18n %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{% block title %}OpenTreeMap{% block instance_title %}{% endblock %}{% block page_title %}{% endblock %}{% endblock title %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <link href="{{ STATIC_URL }}css/bootstrap.css" rel="stylesheet">
		<link href="{{ STATIC_URL }}css/fontello.css" rel="stylesheet">
    <link href="{{ STATIC_URL }}css/application.css" rel="stylesheet">
    <link href="{{ STATIC_URL }}css/responsive.css" rel="stylesheet">

    <!--[if lt IE 9]>
      <script src="{{ STATIC_URL }}js/html5shiv.js"></script>
    <![endif]-->
    <meta charset="utf-8" />

    {% block head_extra %}
    {% endblock head_extra %}
    <style type="text/css">
      header {
        background-color: #dddddd;
        padding: 0.5em;
        margin: 0 0 0.5em 0;
      }
    </style>
  </head>
  <body>
    {% block topnav %}
    <!-- Top Nav -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <ul class="nav pull-left">
            {% block instancetopnav %}
            <li><a href="javascript:;">{% trans "Explore Trees" %}</a></li>
            <li><a href="javascript:;">{% trans "Add a Tree" %}</a></li>
            {% endblock instancetopnav %}
          </ul>
          <ul class="nav pull-right">
            {% if request.user.is_authenticated %}
              <li><a href="{% url 'profile' %}">{{ request.user }}</a></li>
              <li><a href="{% url 'auth_logout' %}">{% trans "Logout" %}</a></li>
            {% else %}
              <li><a href="{% url 'auth_login' %}">{% trans "Login" %}</a></li>
              <li><a href="{% url 'registration_register' %}">{% trans "Sign Up" %}</a></li>
            {% endif %}
					</ul>
        </div>
      </div>
    </div>
    {% endblock topnav %}

    {% block header %}
    <!-- Logo and Search -->
    <div class="header">

      {% block logo %}
      <div class="logo">
        <a href="index.html"><img src="{{ STATIC_URL }}img/logo-main.svg" alt="OpenTreeMap"></a>
      </div>
      {% endblock logo %}

      {% block search %}
      <div class="search-block-wrapper">
        <!--Species Search-->
        <div class="search-block">
          <p class="desktop-only">{% trans "Search by Species" %}</p></a>
          <div class="search-field-group">
            <input type="text" data-class="search" id="species-typeahead" placeholder="American basswood"/>
            <input type="hidden" id="search-species" />
          </div>
        </div>

        <!-- Location Search -->
        <div class="search-block">
          <p class="desktop-only">{% trans "Search by Location" %}</p>
          <div class="search-field-group">
             <input type="text" data-class="search" id="boundary-typeahead" placeholder="340 N 12th St, Philadelphia"/>
            <input type="hidden" id="boundary" />
          </div>
        </div>
      </div> <!-- end search block wrapper -->
      {% block searchoptions %}
      <div class="search-options">
        <a id="perform-search" class="btn btn-primary search-submit-btn">{% trans "Search" %}</a>
        <br>
        <div class="btn-group">
          <button class="btn">{% trans "Advanced" %}</button>
          <button class="btn">{% trans "Reset" %}</button>
        </div>
      </div>
      {% endblock searchoptions %}
      {% endblock search %}

    </div> <!-- end header -->
    {% endblock header %}


    {% block subhead %}
    <div class="subhead">
      <div style="display: inline;" id="tree-and-planting-site-counts">
        <!-- This is what the counts will look like -->
        <!--
        <span id="tree-count">4567</span> trees, <span id="planting-site-count">10,683</span> planting sites
        -->
      </div>
      <a href="javascript:;" class="btn btn-mini exportBtn"><i class="icon-share"></i> Export Search Results</a>
      <a href="javascript:;" class="btn addBtn">Add a Tree</a>
    </div>
    {% endblock subhead %}

    {% block content %}
    {% endblock content %}

    {% block footer %}
    <footer>
      <ul class="nav nav-pills pull-left">
        <li><a href="javascript:;">{% trans "Tree Key" %}</a></li>
        <li><a href="javascript:;">{% trans "Resources" %}</a></li>
        <li><a href="javascript:;">{% trans "FAQ" %}</a></li>
        <li><a href="javascript:;">{% trans "About" %}</a></li>
        <li><a href="javascript:;">{% trans "Contact" %}</a></li>
      </ul>
      <a href="javascript:;" class="pull-right partners">Partners</a>
    </footer>
    {% endblock footer %}

    {% block config_scripts %}
      {% if request.instance %}
        <script src="{{ SITE_ROOT }}{{ request.instance.id }}/config/settings.js"></script>
      {% else %}
        <script src="{{ SITE_ROOT }}config/settings.js"></script>
      {% endif %}
    {% endblock config_scripts %}

    {% block global_scripts %}
      <script type="text/javascript" src="{% url 'django.views.i18n.javascript_catalog' %}"></script>
      <script>
      </script>
      <script src="{{ STATIC_URL }}js/treemap.js"></script>
    {% endblock global_scripts %}

    {% block scripts %}
    <script type="text/javascript">
      (function(require) {
        var $ = require("jquery"),
        app = require("app");

        $(function(){
          app.init(otm.settings);
        })
      })(require);
    </script>
    {% endblock scripts %}

    {% verbatim %}
    <script id="species-element-template" type="text/x-mustache-template">
      <p>{{common_name}}</p>
      <p>{{scientific_name}}</p>
    </script>
    <script id="boundary-element-template" type="text/x-mustache-template">
      <p>{{name}}</p>
      <p>{{category}}</p>
    </script>
    {% endverbatim %}

    {% block templates %}
    {% endblock templates %}
  </body>
</html>
